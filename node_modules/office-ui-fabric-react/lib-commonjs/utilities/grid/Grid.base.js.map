{"version":3,"file":"Grid.base.js","sourceRoot":"../src/","sources":["utilities/grid/Grid.base.tsx"],"names":[],"mappings":";;;AAAA,6BAA+B;AAC/B,6CAOyB;AACzB,6CAA4C;AAG5C,IAAM,aAAa,GAAG,8BAAkB,EAAgC,CAAC;AAEzE;IAA8B,oCAA+B;IAG3D,kBAAY,KAAiB;QAA7B,YACE,kBAAM,KAAK,CAAC,SAIb;QAFC,kCAAsB,CAAC,KAAI,CAAC,CAAC;QAC7B,KAAI,CAAC,GAAG,GAAG,KAAK,CAAC,EAAE,IAAI,iBAAK,EAAE,CAAC;;IACjC,CAAC;IAEM,yBAAM,GAAb;QAAA,iBAuEC;QAtEC,IAAM,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC;QAEvB,IAAA,mBAAK,EACL,+BAAW,EACX,iCAAY;QAEZ,6BAA6B;QAC7B,uBAAkC;QADlC,6BAA6B;QAC7B,uDAAkC,EAClC,sBAA2B,EAA3B,gDAA2B;QAC3B,4BAA4B;QAE5B,qBAAM,EACN,+DAA2B,CACnB;QAEV,IAAM,SAAS,GAAG,0BAAc,CAC9B,IAAI,CAAC,KAAK,EACV,iCAAqB;QACrB,yEAAyE;QACzE,2BAA2B,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,CAC9C,CAAC;QAEF,IAAM,UAAU,GAAG,aAAa,CAAC,MAAO,EAAE,EAAE,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC,KAAM,EAAE,CAAC,CAAC;QAExE,oDAAoD;QACpD,IAAM,WAAW,GAAY,oBAAQ,CAAC,KAAK,EAAE,WAAW,CAAC,CAAC;QAE1D,IAAM,OAAO,GAAG,CACd,iEACiB,YAAY,kBACb,WAAW,EACzB,EAAE,EAAE,IAAI,CAAC,GAAG,EACZ,IAAI,EAAC,MAAM,IACP,SAAS,IACb,SAAS,EAAE,UAAU,CAAC,IAAI;YAE1B,mCACG,WAAW,CAAC,GAAG,CAAC,UAAC,IAAW,EAAE,QAAgB;gBAC7C,OAAO,CACL,4BAAI,IAAI,EAAE,KAAK,EAAE,GAAG,EAAE,KAAI,CAAC,GAAG,GAAG,GAAG,GAAG,QAAQ,GAAG,MAAM,IACrD,IAAI,CAAC,GAAG,CAAC,UAAC,IAAS,EAAE,SAAiB;oBACrC,OAAO,CACL,4BACE,IAAI,EAAE,cAAc,EACpB,GAAG,EAAE,KAAI,CAAC,GAAG,GAAG,GAAG,GAAG,SAAS,GAAG,OAAO,EACzC,SAAS,EAAE,UAAU,CAAC,SAAS,IAE9B,YAAY,CAAC,IAAI,EAAE,SAAS,CAAC,CAC3B,CACN,CAAC;gBACJ,CAAC,CAAC,CACC,CACN,CAAC;YACJ,CAAC,CAAC,CACI,CACF,CACT,CAAC;QAEF,wBAAwB;QACxB,OAAO,2BAA2B,CAAC,CAAC,CAAC,CACnC,OAAO,CACR,CAAC,CAAC,CAAC,CACF,oBAAC,qBAAS,IACR,oBAAoB,EAAE,IAAI,CAAC,KAAK,CAAC,2BAA2B,EAC5D,SAAS,EAAE,UAAU,CAAC,gBAAgB,EACtC,MAAM,EAAE,IAAI,CAAC,KAAK,CAAC,MAAM,IAExB,OAAO,CACE,CACb,CAAC;IACJ,CAAC;IACH,eAAC;AAAD,CAAC,AAlFD,CAA8B,KAAK,CAAC,SAAS,GAkF5C;AAlFY,4BAAQ","sourcesContent":["import * as React from 'react';\nimport {\n  getId,\n  toMatrix,\n  classNamesFunction,\n  getNativeProps,\n  htmlElementProperties,\n  initializeComponentRef,\n} from '../../Utilities';\nimport { FocusZone } from '../../FocusZone';\nimport { IGrid, IGridProps, IGridStyleProps, IGridStyles } from './Grid.types';\n\nconst getClassNames = classNamesFunction<IGridStyleProps, IGridStyles>();\n\nexport class GridBase extends React.Component<IGridProps, {}> implements IGrid {\n  private _id: string;\n\n  constructor(props: IGridProps) {\n    super(props);\n\n    initializeComponentRef(this);\n    this._id = props.id || getId();\n  }\n\n  public render(): JSX.Element {\n    const props = this.props;\n    const {\n      items,\n      columnCount,\n      onRenderItem,\n\n      // tslint:disable:deprecation\n      ariaPosInSet = props.positionInSet,\n      ariaSetSize = props.setSize,\n      // tslint:enable:deprecation\n\n      styles,\n      doNotContainWithinFocusZone,\n    } = props;\n\n    const htmlProps = getNativeProps<React.HTMLAttributes<HTMLTableElement>>(\n      this.props,\n      htmlElementProperties,\n      // avoid applying onBlur on the table if it's being used in the FocusZone\n      doNotContainWithinFocusZone ? [] : ['onBlur'],\n    );\n\n    const classNames = getClassNames(styles!, { theme: this.props.theme! });\n\n    // Array to store the cells in the correct row index\n    const rowsOfItems: any[][] = toMatrix(items, columnCount);\n\n    const content = (\n      <table\n        aria-posinset={ariaPosInSet}\n        aria-setsize={ariaSetSize}\n        id={this._id}\n        role=\"grid\"\n        {...htmlProps}\n        className={classNames.root}\n      >\n        <tbody>\n          {rowsOfItems.map((rows: any[], rowIndex: number) => {\n            return (\n              <tr role={'row'} key={this._id + '-' + rowIndex + '-row'}>\n                {rows.map((cell: any, cellIndex: number) => {\n                  return (\n                    <td\n                      role={'presentation'}\n                      key={this._id + '-' + cellIndex + '-cell'}\n                      className={classNames.tableCell}\n                    >\n                      {onRenderItem(cell, cellIndex)}\n                    </td>\n                  );\n                })}\n              </tr>\n            );\n          })}\n        </tbody>\n      </table>\n    );\n\n    // Create the table/grid\n    return doNotContainWithinFocusZone ? (\n      content\n    ) : (\n      <FocusZone\n        isCircularNavigation={this.props.shouldFocusCircularNavigate}\n        className={classNames.focusedContainer}\n        onBlur={this.props.onBlur}\n      >\n        {content}\n      </FocusZone>\n    );\n  }\n}\n"]}